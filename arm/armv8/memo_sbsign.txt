#
# Use SHA2 (SHA224, 256 or larger), not SHA1 (including signing_key.x509)
# Yet enable CONFIG_CRYPTO_SHA1 to use sbsign to sign the binary
# Add cert (PEM, [signing|self]_key.pem) to keyring

$ cat /proc/keys
23e42a69 I------     1 perm 1f030000     0     0 asymmetri Build time autogenerated kernel key: 005f51d47abab804c15dcfd50538eea7b017ca2a: X509.rsa b017ca2a []


$ sbsign --key key.pem --cert cert.der Image

For kexec_file, use signing_key.pem as certificate
$ sbsign --key signing_key.pem --cert signing_key.pem Image
	=> Image.signed


For verifying, create PEM version of certificate,
$ openssl x509 -pubkey -noout -inform der -outform pem \
		< signing_key.x509 > signing_pubkey.x509.pem

then
$ sbverify --no-verify --cert signing_key.x509.pem Image.signed
